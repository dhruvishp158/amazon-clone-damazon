<head>
  <style>
    .categories {
      display: grid;
      grid-template-columns: auto auto auto;
      grid-gap: 1rem;
      margin: 5rem 1rem;
    }
    .categories-individual {
      box-shadow: 2px 2px 8px -4px black;
      padding: 2rem;
    }
    .caption {
      text-align: center;
    }
    a {
      text-decoration: none;
      color: rgb(63, 65, 71);
    }
    a:hover {
      text-decoration: none;
    }
    img {
      max-width: 250px;
      border-radius: 2rem;
    }
    .caption {
      padding: 1rem;
    }
    .img-container {
      text-align: center;
    }
    @media only screen and (max-width: 1160px) {
      .categories {
        display: grid;
        grid-template-columns: auto auto;
      }
    }
    @media only screen and (max-width: 760px) {
      .categories {
        display: grid;
        grid-template-columns: auto;
      }
    }
  </style>
</head>
<% layout('layout') -%>

<div class="jumbotron" id="navbar-gap" style="text-align: center;">
  <div class="container">
    <h1>Shop smart, save big</h1>
    <p>Find your favorite products</p>
    <div class="row">
      <div class="col-md-6 col-md-12">
        <div class="input-group col-md-12">
          <input
            type="text"
            class="form-control inout-lg"
            name="search_term"
            placeholder="Search for a product ..."
            id="search"
          />
          <span class="input-group-btn">
            <button type="submit" class="btn btn-primary btn-lg">
              <i class="fas fa-search" aria-hidden="true"></i>
            </button>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="categories" id="search-results">
  <% for( let i = 0; i < products.length; i++ ) { %>
  <div class="categories-individual">
    <a href="/product/<%= products[i]._id %> ">
      <div class="img-container">
        <img src="<%= products[i].image   %> " alt="" />
        <div class="caption">
          <h3><%= products[i].name %></h3>
          <p><%= products[i].category.name %></p>
          <p>$<%= products[i].price %></p>
        </div>
      </div>
    </a>
  </div>
  <% } %>

  <ul class="pagination" style="margin-top: 2rem;">
    <% for( let i = 1; i <= pages; i++ ) { %> <% if (i===1) { %>
    <li class="page-item">
      <a class="page-link" href="/"><%= i %> </a>
    </li>
    <% } else { %>
    <li class="page-item">
      <a class="page-link" href="/page/<%= i %>"><%= i %></a>
    </li>
    <% } %> <% } %>
  </ul>
</div>
